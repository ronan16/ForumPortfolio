{% extends 'perfil.html'%}
{% block editarperfil%}
<hr class="mt-5">
<div class="container mt-1 d-flex justify-content-center">
    <div class="row w-100">
      <div class="col">
        <div class="card border-0 shadow rounded-3 my-5 w-100">
          <div class="card-body p-4 p-sm-5">
            <h5 class="card-title text-center mb-5 fw-light fs-5"><strong>Editar Perfil</strong></h5>
              <!-- CUIDADO! Sempre q tiver upload de arquivo, precisa do ENCTYPE="multipart/form-data"-->
            <form method="POST" enctype="multipart/form-data">
              {{form.csrf_token }}
             <div class="form-group mb-3">
                {{form.username.label(class="form-control-label")}}
                {% if form.username.errors %}
                  {{form.username(class="form-control form-control-lg mt-2 is-invalid")}}
                  <div class="invalid-feedback">
                    {% for erro in form.username.errors %}
                        {{erro}}
                    {% endfor %}
                  </div>
                {%else %}
                   {{form.username(class="form-control form-control-lg mt-2")}}
                {% endif %}
              </div>

               <div class="form-group mb-3">
                {{form.email.label(class="form-control-label")}}
                 {% if form.email.errors %}
                  {{form.email(class="form-control form-control-lg mt-2 is-invalid")}}
                  <div class="invalid-feedback">
                    {% for erro in form.email.errors %}
                        {{erro}}
                    {% endfor %}
                  </div>
                {%else %}
                   {{form.email(class="form-control form-control-lg mt-2")}}
                {% endif %}
              </div>
              <div class="form-group mb-3">
                    {{ form.photo.label(class="form-control-label")}}
                    {{ form.photo(class="form-control-file") }}
                    {% if form.photo.errors %}
                     {% for erro in form.photo.errors %}
                        <span class="text-danger"> {{erro}}</span><br>
                     {% endfor %}
                    {% endif %}
              </div>
              <hr>
                <h5>Cursos</h5>
                {% for campo in form %}
                    {%if  'curso_' in campo.name %}
                        <div class="form-check mb-3">
                            {{campo.label(class="form-control-label")}}
                            {{campo(class="form-check-input")}}
                        </div>
                    {% endif %}
                {% endfor %}
              <div class="d-grid">
                {{form.btn_submitEditarPerfil(class="w-100 btn btn-lg btn-primary")}}
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

</div>

{% endblock%}